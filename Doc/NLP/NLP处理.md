# NLP文本处理

从网页得到每个症状的大致文本内容，我们需要对文本进行分词，一以便我们提取特征。

![分词过程](./分词.png)

这里我们使用jieba库进行分词。

![分词2](./分词库.png)



| 诊室             | 编码 | 数量                            |
| ---------------- | ---- | ------------------------------- |
| 中医科           | 0001 | [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0] |
| 产科             | 0010 | [0,1,0,0,0,0,0,0,0,0,0,0,0,0,0] |
| 儿科             | 0011 | [0,0,1,0,0,0,0,0,0,0,0,0,0,0,0] |
| 内科             | 0100 | [0,0,0,1,0,0,0,0,0,0,0,0,0,0,0] |
| 口腔颌面科       | 0101 | [0,0,0,0,1,0,0,0,0,0,0,0,0,0,0] |
| 外科             | 0110 | [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0] |
| 妇科             | 0111 | [0,0,0,0,0,0,1,0,0,0,0,0,0,0,0] |
| 男科             | 1000 | [0,0,0,0,0,0,0,1,0,0,0,0,0,0,0] |
| 皮肤性病科       | 1001 | [0,0,0,0,0,0,0,0,1,0,0,0,0,0,0] |
| 眼科             | 1010 | [0,0,0,0,0,0,0,0,0,1,0,0,0,0,0] |
| 耳鼻咽喉科       | 1011 | [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0] |
| 肿瘤及防治科     | 1100 | [0,0,0,0,0,0,0,0,0,0,0,1,0,0,0] |
| 营养科           | 1101 | [0,0,0,0,0,0,0,0,0,0,0,0,1,0,0] |
| 骨伤科           | 1110 | [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0] |
| 全部科室（未知） | 0000 | [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1] |

由于计算机只能处理数字型的变量，并不能直接把文本丢给计算机然后让它告诉我们这段文字的类别。于是，我们需要对词进行one-hot编码。假设我们总共有N个词，然后对词进行索引编码并构造一个N维零向量，如果这个文本中的某些词出现，就在该词索引值位置标记为1，表示这个文本包含这个词。于是，我们会得到如下类似的向量

TF-IDF 用以评估一字词对于一个文档集或一个语料库中的其中一份文档的重要程度，是一种计算特征权重的方法。核心思想即，字词的重要性随着它在文档中出现的次数成正比增加，但同时会随着它在语料库中出现的频率成反比下降。有效地规避了那些高频却包含很少信息量的词。我们这里也是用TF-IDF 对文本变量进行特征提取。